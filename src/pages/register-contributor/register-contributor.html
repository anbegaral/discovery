<ion-header>

    <ion-navbar>
        <ion-title>{{'login.register' | translate}}</ion-title>
    </ion-navbar>

</ion-header>


<ion-content padding>
    <form [formGroup]="registerContributorForm">

        <ion-item>
            <ion-label floating>First Name</ion-label>
            <ion-input formControlName="firstName" type="text"></ion-input>
        </ion-item>
        <ion-item *ngIf="!registerContributorForm.controls.firstName.valid  && (registerContributorForm.controls.firstName.dirty)">
            <p>Please enter a valid name.</p>
        </ion-item>

        <ion-item>
            <ion-label floating>Last Name</ion-label>
            <ion-input formControlName="lastName" type="text"></ion-input>
        </ion-item>
        <ion-item *ngIf="!registerContributorForm.controls.lastName.valid  && (registerContributorForm.controls.lastName.dirty)">
            <p>Please enter a valid surname.</p>
        </ion-item>

        <ion-item>
            <ion-label floating>Address</ion-label>
            <ion-input formControlName="address" type="text"></ion-input>
        </ion-item>
        <ion-item *ngIf="!registerContributorForm.controls.address.valid  && (registerContributorForm.controls.address.dirty)">
            <p>Please enter a valid address.</p>
        </ion-item>

        <ion-item>
            <ion-label floating>City</ion-label>
            <ion-input formControlName="city" type="text"></ion-input>
        </ion-item>
        <ion-item *ngIf="!registerContributorForm.controls.city.valid  && (registerContributorForm.controls.city.dirty)">
            <p>Please enter a valid city.</p>
        </ion-item>

        <ion-item>
            <ion-label floating>Postcode</ion-label>
            <ion-input formControlName="postcode" type="text"></ion-input>
        </ion-item>
        <ion-item *ngIf="!registerContributorForm.controls.postcode.valid  && (registerContributorForm.controls.postcode.dirty)">
            <p>Please enter a valid postcode.</p>
        </ion-item>

        <ion-item>
            <ion-label floating>Country</ion-label>
            <ion-input formControlName="country" type="text"></ion-input>
        </ion-item>
        <ion-item *ngIf="!registerContributorForm.controls.country.valid  && (registerContributorForm.controls.country.dirty)">
            <p>Please enter a valid country.</p>
        </ion-item>

        <ion-item>
            <ion-label floating>Bank account</ion-label>
            <ion-input formControlName="bankaccount" type="text"></ion-input>
        </ion-item>
        <ion-item *ngIf="!registerContributorForm.controls.bankaccount.valid  && (registerContributorForm.controls.bankaccount.dirty)">
            <p>Please enter a valid bank account.</p>
        </ion-item>

        <div *ngIf="!isLoggedin">
            <ion-item>
                <ion-label floating>Email</ion-label>
                <ion-input formControlName="email" type="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$"></ion-input>
              </ion-item>
              <ion-item *ngIf="!registerContributorForm.controls.email.valid  && (registerContributorForm.controls.email.dirty)">
                  <div *ngIf="registerContributorForm.controls.email.errors.required" class="error">Email is required</div>
                  <div *ngIf="registerContributorForm.controls.email.errors?.pattern" class="error">Email must be a valid email address</div>
              </ion-item>
          
              <ion-item>
                <ion-label floating>{{'login.password' | translate}}</ion-label>
                <ion-input formControlName="password" type="password"></ion-input>
              </ion-item>
              <ion-item *ngIf="!registerContributorForm.controls.password.valid  && (registerContributorForm.controls.password.dirty)">
                <div *ngIf="registerContributorForm.controls.password.errors.required" class="error">Password is required</div>
                <div *ngIf="registerContributorForm.controls.password.errors.minlength" class="error">Password must be at least 8 characters</div>
              </ion-item>
        </div>
    </form>
    <button ion-button color="primary" full (click)="registerContributor()">{{'login.register' | translate}}</button><!-- [disabled]="!registerContributorForm.valid" -->

</ion-content>